<div ng-if="placeIdIsInvalid">
  <div class="page-header">
    <h1>Pagina niet gevonden</h1>
  </div>

  <div class="row">
    <div class="col-xs-12">
      <p>Deze pagina kon niet gevonden worden.</p>
    </div>
  </div>
</div>

<div ng-if="place">
  <h1 class="title" ng-bind="place.name"></h1>

  <div class="row">
    <div class="col-sm-3 col-sm-push-9">
      <div class="list-group" ng-if="::permissions">
        <button ng-if="::permissions.editing"
                class="list-group-item"
                type="button"
                ng-click="openEditPage()">Bewerken</button>
        <button ng-if="::permissions.editing"
                class="list-group-item"
                href="#"
                ng-click="deletePlace()">Verwijderen</button>
      </div>
    </div>

    <div class="col-xs-9 col-sm-pull-3">
      <ul class="nav nav-tabs">
        <li ng-repeat="tab in tabs" ng-class="{active: isTabActive(tab.id)}" role="tab">
          <a ng-click="makeTabActive(tab.id)" role="tab" ng-bind="tab.header"></a>
        </li>
      </ul>

      <div class="tab-pane" role="tabpanel" ng-show="isTabActive('data')">
        <h2 class="block-header">Voorbeeld</h2>
        <div class="panel panel-default">
          <table class="table udb3-data-table">
            <colgroup>
              <col style="width:20%"/>
              <col style="width:80%"/>
            </colgroup>
            <tbody>
              <tr>
                <td><strong>Titel</strong></td>
                <td>{{place.name}}</td>
              </tr>
              <tr>
                <td><strong>Type</strong></td>
                <td>{{place.type.label}}</td>
              </tr>
              <tr>
                <td><strong>Beschrijving</strong></td>
                <td>
                  <div ng-bind-html="place.description" class="event-detail-description"></div>
                </td>
              </tr>
              <tr>
                <td><strong>Waar</strong></td>
                <td>{{place.address.streetAddress}}<br />
                  {{place.address.postalCode}} {{place.address.addressLocality}}<br />
                  {{place.address.addressCountry}}</td>
              </tr>
            </tbody>
            <tbody udb-booking-info-detail="::place.bookingInfo"></tbody>
            <tbody udb-contact-point-detail="::place.contactPoint"></tbody>
            <tbody>
              <tr>
                <td>
                  <strong>Labels</strong>
                </td>
                <td>
                  <udb-label-select labels="place.labels"
                                    label-added="labelAdded(label)"
                                    label-removed="labelRemoved(label)">
                  </udb-label-select>
                  <div ng-if="labelResponse === 'error'" class="alert alert-danger">
                    Het toevoegen van het label '{{labelsError.name}}' is niet gelukt.
                  </div>
                  <div ng-if="labelResponse === 'success'" class="alert alert-success">
                    Het label '{{addedLabel}}' werd succesvol toegevoegd.
                  </div>
                  <div ng-if="labelResponse === 'unlabelError'" class="alert alert-danger">
                    <span ng-bind="labelsError"></span>
                  </div>
                </td>
              </tr>
              <tr>
                <td><strong>Geschikt voor</strong></td>
                <td>
                  <span ng-if="place.typicalAgeRange">{{place.typicalAgeRange}}</span>
                  <span ng-if="!place.typicalAgeRange">Alle leeftijden</span>
                </td>
              </tr>
              <tr ng-class="::{muted: !place.image}">
                <td><strong>Afbeeldingen</strong></td>
                <td>
                  <img ng-if="::place.image" class="img-responsive" ng-src="{{::place.image}}?width=400" />
                  <p>
                    <span ng-repeat="image in ::place.images">
                      <img ng-src="{{::image.contentUrl}}?height=100" class="offer-image-thumbnail img-responsive" />
                    </span>
                    <span ng-if="::!place.image">Geen afbeeldingen</span>
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div role="tabpanel" class="tab-pane" ng-show="isTabActive('history')">
        <div class="timeline">
          <dl ng-repeat="placeAction in placeHistory track by $index">
            <dt ng-bind="placeAction.date | date:'dd / MM / yyyy H:mm'"></dt>
            <dd>
              <span class="author" ng-if="placeAction.author">{{placeAction.author}}</span><br ng-if="placeAction.author"/>
              <span class="description">{{placeAction.description}}</span>
            </dd>
          </dl>
        </div>
      </div>

      <div class="tab-pane" role="tabpanel" ng-show="isTabActive('publication')">
        <div class="panel panel-default">
          <table class="table">
            <colgroup>
              <col style="width:20%"/>
              <col style="width:80%"/>
            </colgroup>
            <tbody udb-workflow-status="::place">
            </tbody>
          </table>
        </div>
      </div>

    </div>
  </div>
</div>
