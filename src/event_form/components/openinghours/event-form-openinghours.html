<div class="col-xs-12" ng-hide="!!formData.openingHours.length">
  <a href="#" class="btn btn-link btn-plus wanneer-openingsuren-link"
     data-toggle="modal" data-target="#wanneer-openingsuren-toevoegen">Openingsuren toevoegen</a>
</div>

<div class="col-xs-12 col-sm-8" ng-show="!!formData.openingHours.length">
  <section class="wanneer-openingsuren-resultaat">
    <table class="table table-condensed ">
      <thead>
      <th>Openingsuren</th>
      <th>
        <a href="#" data-toggle="modal" data-target="#wanneer-openingsuren-toevoegen" class="btn btn-default">
          Wijzigen
        </a>
      </th>
      </thead>
      <tbody>
        <tr ng-repeat="openingHour in formData.openingHours">
          <td ng-bind="openingHour.label"></td>
          <td>
            <span ng-bind="openingHour.opens"></span> â€“ <span ng-bind="openingHour.closes"></span>
          </td>
         </tr>
      </tbody>
    </table>
  </section>

</div>

<div class="modal fade" id="wanneer-openingsuren-toevoegen" ng-init="formData.initOpeningHours()">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Openingsuren</h4>
      </div>
      <div class="modal-body">
          <div class="row">
              <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4">
                  <label for="newOpeningHourForm.weekday">Dagen</label>
              </div>
              <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                  <label for="newOpeningHourForm.opens">Van</label>
              </div>
              <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                  <label for="newOpeningHourForm.closes">Tot</label>
              </div>
          </div>
          <div class="row" ng-repeat="(i, openingHour) in cm.formData.openingHours">
              <ng-form name="openingHourInfo">
                  <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3"
                       ng-class="{'has-error': openingHour.weekday.$invalid && openingHour.weekday.$touched  }">
                      <div class="form-group">
                          <select class="selectpicker"
                                  name="weekday"
                                  multiple
                                  start-label="Kies dag(en)"
                                  ng-model="openingHour.dayOfWeek"
                                  udb-multiselect
                                  required>
                              <option value="monday">maandag</option>
                              <option value="tuesday">dinsdag</option>
                              <option value="wednesday">woensdag</option>
                              <option value="thursday">donderdag</option>
                              <option value="friday">vrijdag</option>
                              <option value="saturday">zaterdag</option>
                              <option value="sunday">zondag</option>
                          </select>
                      </div>
                  </div>
                  <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3"
                       ng-class="{'has-error': openingHour.opens.$invalid && openingHour.opens.$touched}" >
                      <div class="form-group">
                          <input udb-time
                                 type="time"
                                 name="opens"
                                 class="form-control uur"
                                 placeholder="Bv. 08:00"
                                 ng-model="openingHour.opensAsDate"
                          />
                      </div>
                  </div>
                  <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3"
                       ng-class="{'has-error': openingHour.closes.$invalid && openingHour.closes.$touched}">
                      <div class="form-group">
                          <input udb-time
                                 type="time"
                                 name="closes"
                                 class="form-control uur"
                                 placeholder="Bv. 08:00"
                                 ng-model="openingHour.closesAsDate"

                          />
                      </div>
                  </div>
                  <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                      <a href="" ng-click="cm.addPrototypeOpeningHour()">X</a>
                  </div>
              </ng-form>
          </div>
            <div>
               <form name="newOpeningHourForm">
                    <div class="row">
                        <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3"
                             ng-class="{'has-error': newOpeningHourForm.weekday.$invalid && newOpeningHourForm.weekday.$touched  }">
                              <div class="form-group">
                                   <select class="selectpicker"
                                      name="weekday"
                                      multiple
                                      start-label="Kies dag(en)"
                                      ng-model="cm.prototype.dayOfWeek"
                                      udb-multiselect
                                      required>
                                    <option value="monday">maandag</option>
                                    <option value="tuesday">dinsdag</option>
                                    <option value="wednesday">woensdag</option>
                                    <option value="thursday">donderdag</option>
                                    <option value="friday">vrijdag</option>
                                    <option value="saturday">zaterdag</option>
                                    <option value="sunday">zondag</option>
                                </select>
                              </div>
                        </div>
                        <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3"
                             ng-class="{'has-error': newOpeningHourForm.opens.$invalid && newOpeningHourForm.opens.$touched}" >
                              <div class="form-group">
                              <input udb-time
                                 type="time"
                                 name="opens"
                                 class="form-control uur"
                                 placeholder="Bv. 08:00"
                                 ng-model="cm.prototype.opensAsDate"
                                 />
                              </div>
                        </div>
                        <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3"
                           ng-class="{'has-error': newOpeningHourForm.closes.$invalid && newOpeningHourForm.closes.$touched}">
                            <div class="form-group">
                                 <input udb-time
                                   type="time"
                                   name="closes"
                                   class="form-control uur"
                                   placeholder="Bv. 08:00"
                                   ng-model="cm.prototype.closesAsDate"

                                   />
                              </div>
                        </div>
                        <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3">
                            <a href="" ng-click="cm.addPrototypeOpeningHour()">Toevoegen</a>
                        </div>
                    </div>
                </form>
            </div>
        <a class="btn btn-link btn-plus" ng-click="formData.addOpeningHour('', '' , '', '', '')">
          Meer openingstijden toevoegen
        </a>
        <div class="alert alert-danger" ng-show="formData.openingHoursHasErrors">
          <p class="text-danger" ng-if="formData.openingHoursErrors.weekdayError">Je moet minstens 1 weekdag selecteren.</p>
          <p class="text-danger" ng-if="formData.openingHoursErrors.openingHourError">Gelieve een geldige openingstijd in te geven.</p>
          <p class="text-danger" ng-if="formData.openingHoursErrors.closingHourError">Gelieve een geldige sluitingstijd in te geven.</p>
          <p class="text-danger" ng-if="formData.openingHoursErrors.closingHourGreaterError">Gelieve een sluitingstijd in te geven die later is dan de openingstijd.</p>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Annuleren</button>
        <button type="button" class="btn btn-primary openingsuren-toevoegen"
                data-dismiss="modal"
                ng-click="formData.saveOpeningHours()"
                ng-disabled="formData.openingHoursHasErrors">
          Toevoegen
        </button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div>
<!-- /.modal -->
