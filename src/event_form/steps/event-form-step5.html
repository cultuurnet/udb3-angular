<div ng-controller="EventFormStep5Ctrl as EventFormStep5">
  <a name="extra"></a>
  <section id="extra" ng-hide="eventFormData.showStep5">

    <h2 class="title-border">
      <span class="number">5</span>
      <span ng-show="eventFormData.isEvent">Laat je evenement extra opvallen</span>
      <span ng-show="eventFormData.isPlace">Laat deze locatie extra opvallen</span>
    </h2>

    <div class="row">
      <div class="col-sm-8">

        <div class="row extra-titnieel">
          <div class="extra-task state-complete">
            <div class="col-sm-3">
              <em class="extra-task-label">Titel</em>
            </div>
            <div class="col-sm-8">
              <p id="extra-titel-motivator" ng-bind="eventFormData.name.nl"></p>
            </div>
          </div>
        </div>

        <div class="row extra-beschrijving">
          <div class="extra-task" ng-class="descriptionCssClass">
            <div class="col-sm-3">
              <em class="extra-task-label">Beschrijving</em> <i class="fa fa-circle-o-notch fa-spin" ng-show="savingDescription"></i>
            </div>
            <div class="col-sm-8">
              <section class="state incomplete">
                <div class="row">
                  <div class="col-sm-6">
                    <a class="btn btn-default to-filling" ng-click="descriptionCssClass = 'state-filling'">Tekst toevoegen</a>
                  </div>
                </div>
              </section>
              <section class="state complete">
                <p>{{eventFormData.description.nl}} <a class="btn btn-link" ng-click="descriptionCssClass = 'state-filling'">Wijzigen</a>
                </p>
              </section>
              <section class="state filling">
                <div class="form-group">
                  <label>Beschrijving</label>
                  <textarea class="form-control" ng-model="description"></textarea>
                  <div class="tip" ng-switch="eventFormData.eventType">
                    <p ng-switch-when="0.17.0.0.0">
                      Geef hier een wervende omschrijving van de route. Vermeld in deze tekst <strong>hoe</strong> de route wordt afgelegd (per fiets, per boot, ...), de mogelijke tussenstops, de <strong>duur</strong>, <strong>afstand</strong> en hoe de route <strong>begeleid</strong> is (met gids, brochure of wegwijzers).
                    </p>
                    <p ng-switch-when="0.7.0.0.0">
                      Geef hier een wervende omschrijving van de route rondleiding. Vermeld het <strong>max. aantal personen</strong> per groepje, <strong>hoe</strong> de rondleiding wordt georganiseerd (doorlopend, met intervallen of op vaste tijdstippen) en of er <strong>speciale aandachtspunten</strong> zijn (vb. laarzen aangewezen).
                    </p>
                    <p ng-switch-when="0.14.0.0.0">
                      Geef hier een wervende omschrijving van het monument. Geef ook aan indien het monument slechts beperkt opengesteld is (vb. enkel salons).
                    </p>
                  </div>

                </div>
                <div class="form-group">
                  <a class="btn btn-primary to-complete" ng-click="saveDescription()">Opslaan</a>
                </div>

                <div ng-show="descriptionError" class="alert alert-danger">
                  Er ging iets fout bij het opslaan van de beschrijving.
                </div>

              </section>
            </div>
          </div>
        </div>

        <div class="row extra-leeftijd">
          <div class="extra-task" ng-class="ageCssClass">
            <div class="col-sm-3">
              <em class="extra-task-label">Geschikt voor</em><i class="fa fa-circle-o-notch fa-spin" ng-show="savingAgeRange"></i>
            </div>
            <div class="col-sm-8">
              <section>
                <div class="form-group clearfix" ng-hide="ageRange === - 1">
                  <select class="form-control leeftijd-incomplete-select" ng-change="changeAgeRange()" ng-model="ageRange" style="width: 50%; float: left;">
                    <option value="0" ng-show="ageRange === 0">Kies een leeftijdscategorie</option>
                    <option value="12">Kinderen tot 12 jaar</option>
                    <option value="18">Jongeren tussen 12 en 18 jaar</option>
                    <option value="99">Volwassenen (+18 jaar)</option>
                    <option value="-1" ng-show="ageRange > 0">Alle leeftijden</option>
                  </select>
                  <a class="btn btn-link" ng-show="ageRange === 0" ng-click="setAllAges()">Alle leeftijden</a>
                </div>
                <div class="form-inline form-group" ng-show="ageRange > 0">
                  <div class="form-group">
                    <label for="min-age">Vanaf</label>
                    <input type="number" id="min-age" class="form-control" ng-model="minAge" ng-model-options="{ updateOn: 'change' }" ng-change="saveAgeRange()">
                    <label for="min-age">jaar</label>
                  </div>
                </div>

                <p ng-show="ageRange === - 1">Alle leeftijden <a href="#" class="btn btn-link btn-leeftijd-restore to-filling" ng-click="resetAgeRange()">Wijzigen</a></p>

                <div ng-show="ageRangeError" class="alert alert-danger">
                  Er ging iets fout bij het opslaan van de leeftijd.
                </div>

              </section>
            </div>
          </div>
        </div>

        <div class="row extra-organisator">
          <div class="extra-task" ng-class="organizerCssClass">
            <div class="col-sm-3">
              <em class="extra-task-label">Organisatie</em> <i class="fa fa-circle-o-notch fa-spin" ng-show="savingOrganizer"></i>
            </div>
            <div class="col-sm-8">
              <section class="state incomplete">
                <a class="btn btn-default to-filling" ng-click="organizerCssClass = 'state-filling'">Organisator toevoegen</a>
              </section>
              <section class="state complete">
                <p>{{ eventFormData.organizer.name}} <a class="btn btn-link to-filling"><button type="button" class="close" ng-click="deleteOrganizer()" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></a></p>
              </section>
              <section class="state filling">
                <div class="form-group">
                  <label>Kies een organisatie <i class="fa fa-circle-o-notch fa-spin" ng-show="loadingOrganizers"></i></label>
                  <div id="organisator-kiezer">
                    <span class="twitter-typeahead" style="position: relative; display: inline-block; direction: ltr;">
                      <input type="text" class="form-control typeahead" id="organisator-autocomplete"
                             ng-model="organizer"
                             typeahead="organizer for organizer in getOrganizers($viewValue)"
                             typeahead-on-select="selectOrganizer()"
                             typeahead-min-length="3"
                             typeahead-template-url="templates/organizer-typeahead-template.html"/>
                      <div class="dropdown-menu-no-results" ng-show="emptyOrganizerAutocomplete">
                        <p class='text-center'>Organisator niet gevonden?</br>
                          <button type='button' class='btn btn-primary' ng-click="openOrganizerModal()">Nieuwe organisator toevoegen</button>
                        </p>
                      </div>
                    </span>
                  </div>
                </div>
              </section>
              <div ng-show="organizerError" class="alert alert-danger">
                Er ging iets fout bij het opslaan van de organisator.
              </div>
            </div>
          </div>
        </div>

        <div class="row extra-contact">
          <div class="extra-task meer-info" ng-class="contactInfoCssClass">
            <div class="col-sm-3">
              <em class="extra-task-label">Meer info &amp; contact</em> <i class="fa fa-circle-o-notch fa-spin" ng-show="savingContactInfo"></i>
            </div>

            <div class="col-sm-8">
              <section class="state incomplete">
                <a class="btn btn-default" ng-click="contactInfoCssClass = 'state-filling'">Contactinformatie toevoegen</a>
              </section>

              <section class="state filling complete">
                <form name="contactInfo">
                  <table class="table">
                    <tr ng-repeat="(key, info) in eventFormData.contact" ng-model="info" udb-contact-info-validation ng-class="{'has-error' : infoErrorMessage !== '' }" ng-change="saveContactInfo()">
                      <td>
                        <select class="form-control" ng-model="info.type" ng-change="clearInfo();">
                          <option value="url">Website</option>
                          <option value="phone">Telefoonnummer</option>
                          <option value="email">E-mailadres</option>
                        </select>
                      </td>
                      <td>
                        <input type="text" class="form-control" ng-model="info.value" name="contact[{{key}}]" ng-change="validateInfo(key); saveContactInfo();" ng-model-options="{ updateOn: 'blur' }"/>
                        <span class="help-block" ng-hide="infoErrorMessage === ''" ng-bind="infoErrorMessage"></span>
                      </td>
                      <td>
                        <button type="button" class="close" aria-label="Close" ng-click="deleteContactInfo(key)"><span aria-hidden="true">&times;</span></button>
                      </td>
                    </tr>
                    <tr><td colspan="3"><a ng-click="eventFormData.addContactInfo('')">Meer contactgegevens toevoegen</a></td></tr>
                  </table>
                </form>
              </section>

              <div ng-show="contactInfoError" class="alert alert-danger">
                Er ging iets fout bij het opslaan van de contact info.
              </div>

            </div>

          </div>
        </div>

        <div class="row extra-toegankelijkheid ">
          <div class="extra-task" ng-class="facilitiesCssClass">
            <div class="col-sm-3">
              <em class="extra-task-label">Toegankelijkheid</em>
            </div>
            <div class="col-sm-8">
              <section class="state incomplete">
                <a class="btn btn-default" href="#" ng-click="openFacilitiesModal();">Voorzieningen toevoegen</a>
                <a class="btn btn-link btn-nvt" ng-click="setFacilitiesInapplicable();">Niet van toepassing</a>
              </section>
              <section class="state complete">
                <ul ng-if="selectedFacilities.length > 0">
                  <li ng-repeat="facility in selectedFacilities">{{ facility.label }}</li>
                </ul>
                <p><span ng-show="facilitiesInapplicable">Niet van toepassing</span> <a href="#" class="btn btn-link" ng-click="openFacilitiesModal();">Wijzigen</a></p>
              </section>
            </div>
          </div>
        </div>

        </section>
      </div>