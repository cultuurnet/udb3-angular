<div ng-controller="EventFormStep3Ctrl as EventFormStep3">

<section id="waar" ng-show="eventFormData.showStep3">
    <h2 class="title-border">
      <span class="number">3</span>
      <span ng-show="eventFormData.isEvent">Waar vindt dit evenement of deze activiteit plaats?</span>
      <span ng-show="eventFormData.isPlace">Waar is deze plaats of locatie?</span>
    </h2>

    <div class="row">
      <div class="col-xs-12">
        <label for="gemeente-autocomplete" id="gemeente-label"> Kies een gemeente</label>
        <div id="gemeente-kiezer" ng-hide="selectedCity !== ''">
          <span style="position: relative; display: inline-block; direction: ltr;" class="twitter-typeahead">
            <input type="text" 
                   class="form-control typeahead"
                   placeholder="Gemeente of postcode" 
                   ng-model="cityAutocompleteTextField" 
                   typeahead="city.cityId as city.cityLabel for city in cityAutocomplete.getCities($viewValue)"  
                   typeahead-on-select="selectCity($item, $model, $label)" 
                   typeahead-min-length="3" required>
          </span>
        </div>
        <div id="gemeente-gekozen" ng-show="selectedCity !== ''">
          <span class="btn-chosen" id="gemeente-gekozen-button" ng-bind="selectedCity"></span>
          <a href="" class="btn btn-default btn-link" ng-click="changeCitySelection()">Wijzigen</a>
        </div>
      </div>
    </div>

    <div id="waar-evenement" ng-show="eventFormData.isEvent && selectedCity !== ''">
      <div class="row">
        <div class="col-xs-12">
          <label id="locatie-label">Kies een locatie</label>
          <div id="locatie-kiezer" ng-hide="locationSelected || locationAdded" >
            <span style="position: relative; display: inline-block; direction: ltr;" class="twitter-typeahead">
              <input type="text" 
                     placeholder="Locatie" 
                     class="form-control typeahead"
                     ng-model="locationAutocompleteTextField" 
                     typeahead="location for location in getLocations($viewValue)" 
                     typeahead-on-select="selectLocation($item, $model, $label)" 
                     typeahead-min-length="3" />
              <div class="plaats-adres-resultaat dropdown-menu-no-results" ng-show="noLocationsFound">
                <p>
                  <span>Locatie niet gevonden?</span>
                  <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#waar-locatie-toevoegen" ng-click="openPlaceModal()">Een locatie toevoegen</button>
                </p>
              </div>
            </span>
          </div>
          <div id="locatie-gekozen" ng-show="locationSelected" >
            <span class=" btn-chosen" id="locatie-gekozen-button" ng-bind="eventFormData.locationLabel"></span>
            <button type="button" class="btn btn-default btn-link" data-toggle="modal" data-target="#waar-locatie-toevoegen" ng-click="changeLocationSelection()">Wijzigen</button>
          </div>
        </div>
      </div>


    </div>

    <div id="waar-plaats" ng-show="eventFormData.isPlace && selectedCity !== ''">
      <div class="plaats-adres-ingeven" ng-hide="placeValidated" >
        <div class="row">
          <div class="col-xs-8 col-lg-4">
            <div class="form-group">
              <label>Straat</label>
              <input class="form-control" id="straat" placeholder="" type="text" ng-model="eventFormData.placeStreet">
              <span ng-show="placeStreetRequired">Straat is een verplicht veld.</span>
            </div>
          </div>
          <div class="col-xs-4 col-lg-2">
            <div class="form-group">
              <label>Nummer</label>
              <input class="form-control waar-plaats-nummer" id="nummer" placeholder="" type="text" ng-model="eventFormData.placeNumber">
              <span ng-show="placeNumberRequired">Nummer is een verplicht veld.</span>
            </div>
          </div>
        </div>
        <a class="btn btn-primary plaats-ok" ng-click="validatePlace()">OK</a>
      </div>

      <div class="plaats-adres-resultaat" ng-show="placeValidated">
        <p>
          <span class="btn-chosen" ng-bind="eventFormData.place"></span>
          <a class="btn btn-link plaats-adres-wijzigen"ng-click="changePlace()">Wijzigen</a>
        </p>
      </div>

    </div>

</section>

</div>